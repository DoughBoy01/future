@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   AIRBNB DESIGN SYSTEM - DESIGN TOKENS
   ======================================== */

:root {
  /* Primary Colors - Airbnb Pink Palette */
  --color-primary: #FF385C;
  --color-primary-light: #FFE8EA;
  --color-primary-medium: #FFC4CC;
  --color-primary-hover: #fe4d39;
  --color-primary-dark: #C71742;

  /* Neutral Colors */
  --color-text-primary: #222222;
  --color-text-secondary: #717171;
  --color-border: #DDDDDD;
  --color-background: #FFFFFF;
  --color-background-secondary: #F7F7F7;

  /* Semantic Colors */
  --color-success: #008A05;
  --color-warning: #FFB400;
  --color-error: #C13515;
  --color-info: #0073E6;

  /* Typography */
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
  --font-weight-book: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;

  /* Type Scale - Desktop */
  --font-size-display: 48px;
  --line-height-display: 56px;
  --font-size-h1: 32px;
  --line-height-h1: 40px;
  --font-size-h2: 26px;
  --line-height-h2: 32px;
  --font-size-h3: 22px;
  --line-height-h3: 28px;
  --font-size-body-large: 16px;
  --line-height-body-large: 24px;
  --font-size-body: 14px;
  --line-height-body: 20px;
  --font-size-small: 12px;
  --line-height-small: 16px;

  /* Spacing - 8px Base Grid */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;
  --space-7: 40px;
  --space-8: 48px;
  --space-9: 64px;
  --space-10: 80px;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-pill: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.12);
  --shadow-hover: 0 6px 20px rgba(0, 0, 0, 0.15);

  /* Transitions */
  --transition-fast: 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
  --transition-standard: 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  --transition-slow: 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);

  /* Layout */
  --max-content-width: 1120px;
  --nav-height-mobile: 56px;
  --nav-height-desktop: 80px;
}

/* Base Typography */
@layer base {
  body {
    font-family: var(--font-family);
    color: var(--color-text-primary);
    background-color: var(--color-background);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: var(--font-weight-bold);
    line-height: 1.2;
  }

  /* Focus Styles - Airbnb Standard */
  *:focus-visible {
    outline: 2px solid var(--color-text-primary);
    outline-offset: 2px;
  }

  /* Skip to Content Link for Accessibility */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-text-primary);
    color: var(--color-background);
    padding: 8px 16px;
    text-decoration: none;
    border-radius: var(--radius-md);
    z-index: 100;
  }

  .skip-to-content:focus {
    top: 8px;
    left: 8px;
  }
}

@layer utilities {
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-down {
    from {
      transform: translateY(-100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes confetti {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%) translateY(-100%) rotate(45deg);
    }
    100% {
      transform: translateX(100%) translateY(100%) rotate(45deg);
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
    }
    50% {
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.6);
    }
  }

  @keyframes ripple {
    0% {
      transform: scale(0);
      opacity: 1;
    }
    100% {
      transform: scale(4);
      opacity: 0;
    }
  }

  @keyframes heartbeat {
    0%, 100% {
      transform: scale(1);
    }
    25% {
      transform: scale(1.05);
    }
    50% {
      transform: scale(1.02);
    }
  }

  @keyframes pulse-slow {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.02);
    }
  }

  @keyframes pulse-fast {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.9;
      transform: scale(1.08);
    }
  }

  @keyframes pulse-error {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.7;
      transform: scale(1.05);
    }
  }

  @keyframes ping-slow {
    0% {
      transform: scale(1);
      opacity: 0.8;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  @keyframes spin-slow {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(30px) scale(0.95);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes hero-text-reveal {
    0% {
      opacity: 0;
      transform: translateY(40px) scale(0.9);
      filter: blur(10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }
  }

  @keyframes gradient-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-slide-in {
    animation: slide-in 0.5s ease-out;
  }

  .animate-fade-in-up {
    opacity: 0;
    animation: fade-in-up 0.8s ease-out forwards;
  }

  .animate-hero-text-reveal {
    opacity: 0;
    animation: hero-text-reveal 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .animate-gradient-flow {
    background-size: 200% 200%;
    animation: gradient-flow 4s ease-in-out infinite;
  }

  /* iOS Safari flexbox fixes */
  .ios-hero-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    /* Force iOS to respect the flex positioning */
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -webkit-box-align: center;
    /* Prevent iOS from centering content */
    justify-content: flex-start !important;
    -webkit-box-pack: start !important;
    /* Ensure text is never overlaid */
    position: relative;
    z-index: 10;
  }

  /* Ensure content stays at top on iOS - closer to navbar */
  @supports (-webkit-touch-callout: none) {
    .ios-hero-container {
      padding-top: 4rem !important; /* 64px - closer to navbar */
    }

    @media (min-width: 640px) {
      .ios-hero-container {
        padding-top: 4.5rem !important; /* 72px */
      }
    }

    @media (min-width: 768px) {
      .ios-hero-container {
        padding-top: 5rem !important; /* 80px */
      }
    }

    @media (min-width: 1024px) {
      .ios-hero-container {
        padding-top: 6rem !important; /* 96px */
      }
    }
  }

  /* Ensure hero text is always on top */
  .hero-text-layer {
    position: relative;
    z-index: 20;
  }

  .animate-slide-down {
    animation: slide-down 0.3s ease-out;
  }

  .animate-confetti {
    animation: confetti 3s ease-out forwards;
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-ripple {
    animation: ripple 0.6s ease-out;
  }

  .animate-heartbeat {
    animation: heartbeat 1.2s ease-in-out infinite;
  }

  .animate-pulse-slow {
    animation: pulse-slow 3s ease-in-out infinite;
  }

  .animate-pulse-fast {
    animation: pulse-fast 1s ease-in-out infinite;
  }

  .animate-pulse-error {
    animation: pulse-error 0.8s ease-in-out infinite;
  }

  .animate-ping-slow {
    animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }
}
